# Инструкция по подключению Яндекс Метрики

## Шаг 1: Регистрация и создание счетчика

1. Перейдите на сайт Яндекс Метрики: https://metrika.yandex.ru/
2. Войдите в свой аккаунт Yandex (или создайте новый)
3. Нажмите кнопку **"Добавить счетчик"**

## Шаг 2: Настройка счетчика

1. **Название счетчика**: Введите название (например, "ТАКТО - Основной сайт")
2. **Адрес сайта**: Введите URL вашего сайта: `https://takto.space`
3. **Часовой пояс**: Выберите ваш часовой пояс
4. **Согласие с условиями**: Отметьте галочку о согласии с условиями использования
5. Нажмите **"Создать счетчик"**

## Шаг 3: Получение ID счетчика

1. После создания счетчика вы увидите страницу с настройками
2. В верхней части страницы будет указан **ID счетчика** (например: `12345678`)
3. Скопируйте этот ID - он понадобится для подключения

## Шаг 4: Настройка параметров счетчика (опционально)

В настройках счетчика вы можете включить:

- ✅ **Вебвизор** - запись действий пользователей на сайте
- ✅ **Карта кликов** - визуализация кликов по странице
- ✅ **Карта скроллинга** - визуализация прокрутки страниц
- ✅ **Анализ форм** - отслеживание заполнения форм
- ✅ **Запись сессий** - запись действий пользователей

## Шаг 5: Добавление кода на сайт

### Вариант 1: Автоматическое подключение (рекомендуется)

1. Откройте файл `index.html` в корне проекта
2. Найдите закомментированный блок с Яндекс Метрикой (перед закрывающим тегом `</head>`)
3. Замените `ВАШ_ID_СЧЕТЧИКА` на ваш реальный ID счетчика (например: `12345678`)
4. Раскомментируйте код (удалите `<!--` в начале и `-->` в конце)
5. Сохраните файл
6. Пересоберите проект: `npm run build`

### Вариант 2: Ручное добавление

Если вы хотите добавить код вручную:

1. Откройте файл `index.html`
2. Найдите закрывающий тег `</head>`
3. Перед ним добавьте следующий код (замените `ВАШ_ID_СЧЕТЧИКА` на ваш ID):

```html
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(ВАШ_ID_СЧЕТЧИКА, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/ВАШ_ID_СЧЕТЧИКА" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
```

## Шаг 6: Проверка работы

1. После добавления кода и пересборки проекта, загрузите сайт на сервер
2. Откройте сайт в браузере
3. В Яндекс Метрике перейдите в раздел **"Настройки"** → **"Код счетчика"**
4. Нажмите **"Проверить установку"**
5. Если код установлен правильно, вы увидите сообщение об успешной установке

## Шаг 7: Мониторинг данных

После успешной установки вы сможете видеть:

- **Посетители** - количество уникальных посетителей
- **Просмотры** - количество просмотров страниц
- **Глубина просмотра** - среднее количество страниц на одного посетителя
- **Время на сайте** - среднее время, проведенное на сайте
- **Отказы** - процент посетителей, покинувших сайт после просмотра одной страницы
- **Источники трафика** - откуда приходят посетители
- **География** - из каких регионов приходят посетители
- **Устройства** - с каких устройств заходят на сайт

## Дополнительные возможности

### Отслеживание целей

Вы можете настроить цели (конверсии) в Яндекс Метрике:

1. Перейдите в **"Настройки"** → **"Цели"**
2. Нажмите **"Добавить цель"**
3. Выберите тип цели (например, "Отправка формы", "Переход по ссылке")
4. Укажите параметры цели
5. Сохраните

### Отслеживание событий

Для отслеживания кастомных событий используйте:

```javascript
ym(ВАШ_ID_СЧЕТЧИКА, 'reachGoal', 'НАЗВАНИЕ_ЦЕЛИ', {
  // Дополнительные параметры (опционально)
  param1: 'value1',
  param2: 'value2'
});
```

### Пример: Отслеживание отправки формы

В компоненте `ContactSection.jsx` можно добавить отслеживание отправки формы:

```javascript
// После успешной отправки формы
if (window.ym) {
  window.ym(ВАШ_ID_СЧЕТЧИКА, 'reachGoal', 'form_submit', {
    form_name: 'contact_form'
  });
}
```

## Полезные ссылки

- Яндекс Метрика: https://metrika.yandex.ru/
- Документация Яндекс Метрики: https://yandex.ru/support/metrica/
- API Яндекс Метрики: https://yandex.ru/dev/metrica/

## Важные замечания

1. **GDPR и защита данных**: Убедитесь, что использование Яндекс Метрики соответствует вашей политике конфиденциальности
2. **Производительность**: Код метрики загружается асинхронно и не блокирует загрузку страницы
3. **Блокировщики**: Некоторые пользователи могут использовать блокировщики рекламы, которые блокируют Яндекс Метрику
4. **Тестирование**: Проверьте работу метрики в режиме инкогнито, чтобы убедиться, что она не блокируется расширениями браузера
